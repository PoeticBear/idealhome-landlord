(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{2330:function(i,n,o){"use strict";o.r(n);var e=o("ef73"),t=o.n(e);for(var c in e)["default"].indexOf(c)<0&&function(i){o.d(n,i,(function(){return e[i]}))}(c);n["default"]=t.a},"24be":function(i,n,o){"use strict";o("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o("64aa");var e={props:{name:{type:String,default:uni.$u.props.icon.name},color:{type:String,default:uni.$u.props.icon.color},size:{type:[String,Number],default:uni.$u.props.icon.size},bold:{type:Boolean,default:uni.$u.props.icon.bold},index:{type:[String,Number],default:uni.$u.props.icon.index},hoverClass:{type:String,default:uni.$u.props.icon.hoverClass},customPrefix:{type:String,default:uni.$u.props.icon.customPrefix},label:{type:[String,Number],default:uni.$u.props.icon.label},labelPos:{type:String,default:uni.$u.props.icon.labelPos},labelSize:{type:[String,Number],default:uni.$u.props.icon.labelSize},labelColor:{type:String,default:uni.$u.props.icon.labelColor},space:{type:[String,Number],default:uni.$u.props.icon.space},imgMode:{type:String,default:uni.$u.props.icon.imgMode},width:{type:[String,Number],default:uni.$u.props.icon.width},height:{type:[String,Number],default:uni.$u.props.icon.height},top:{type:[String,Number],default:uni.$u.props.icon.top},stop:{type:Boolean,default:uni.$u.props.icon.stop}}};n.default=e},"4d7f":function(i,n,o){var e=o("c86c");n=e(!1),n.push([i.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-view[data-v-59765974], uni-scroll-view[data-v-59765974], uni-swiper-item[data-v-59765974]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}@font-face{font-family:uicon-iconfont;src:url(https://at.alicdn.com/t/font_2225171_8kdcwk4po24.ttf) format("truetype")}.u-icon[data-v-59765974]{display:flex;align-items:center}.u-icon--left[data-v-59765974]{flex-direction:row-reverse;align-items:center}.u-icon--right[data-v-59765974]{flex-direction:row;align-items:center}.u-icon--top[data-v-59765974]{flex-direction:column-reverse;justify-content:center}.u-icon--bottom[data-v-59765974]{flex-direction:column;justify-content:center}.u-icon__icon[data-v-59765974]{font-family:uicon-iconfont;position:relative;\ndisplay:flex;\nflex-direction:row;align-items:center}.u-icon__icon--primary[data-v-59765974]{color:#3c9cff}.u-icon__icon--success[data-v-59765974]{color:#5ac725}.u-icon__icon--error[data-v-59765974]{color:#f56c6c}.u-icon__icon--warning[data-v-59765974]{color:#f9ae3d}.u-icon__icon--info[data-v-59765974]{color:#909399}.u-icon__img[data-v-59765974]{height:auto;will-change:transform}.u-icon__label[data-v-59765974]{line-height:1}',""]),i.exports=n},"5e35":function(i,n,o){"use strict";var e=o("8309"),t=o.n(e);t.a},6559:function(i,n,o){"use strict";o.r(n);var e=o("7a29"),t=o.n(e);for(var c in e)["default"].indexOf(c)<0&&function(i){o.d(n,i,(function(){return e[i]}))}(c);n["default"]=t.a},"7a29":function(i,n,o){"use strict";o("6a54");var e=o("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o("aa9c"),o("4626"),o("5ac7"),o("5ef2");var t=e(o("fa51")),c=e(o("24be")),u={name:"u-icon",data:function(){return{}},mixins:[uni.$u.mpMixin,uni.$u.mixin,c.default],computed:{uClasses:function(){var i=[];return i.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&i.push("u-icon__icon--"+this.color),i},iconStyle:function(){var i={};return i={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(i.color=this.color),i},isImg:function(){return-1!==this.name.indexOf("/")},imgStyle:function(){var i={};return i.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),i.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),i},icon:function(){return t.default["uicon-"+this.name]||this.name}},methods:{clickHandler:function(i){this.$emit("click",this.index),this.stop&&this.preventEvent(i)}}};n.default=u},"7f4d":function(i,n,o){"use strict";var e=o("e215"),t=o.n(e);t.a},8309:function(i,n,o){var e=o("4d7f");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[i.i,e,""]]),e.locals&&(i.exports=e.locals);var t=o("967d").default;t("51214e60",e,!0,{sourceMap:!1,shadowMode:!1})},a4c2:function(i,n,o){"use strict";o.d(n,"b",(function(){return t})),o.d(n,"c",(function(){return c})),o.d(n,"a",(function(){return e}));var e={"u-Input":o("2bd2").default},t=function(){var i=this,n=i.$createElement,o=i._self._c||n;return o("v-uni-view",{staticClass:"content"},[o("v-uni-view",{staticClass:"imgback"},[o("v-uni-view",{staticClass:"log-box"},[o("v-uni-image",{attrs:{src:"/static/logo.png",mode:"scaleToFill"}}),o("v-uni-text",{staticClass:"text"},[i._v("欢迎来到理想窝")])],1),o("v-uni-view",{staticClass:"form-box"},[o("v-uni-view",{staticClass:"input-group"},[o("u--input",{attrs:{placeholder:"请输入手机号",prefixIcon:"phone",prefixIconStyle:"font-size: 22px;color: #909399",border:"none",color:"#fff",placeholderStyle:"color: rgba(255,255,255,0.7)",type:"number",maxlength:"11"},model:{value:i.phone,callback:function(n){i.phone=n},expression:"phone"}})],1),o("v-uni-view",{staticClass:"input-group"},[o("u--input",{attrs:{placeholder:"请输入密码",prefixIcon:"lock",prefixIconStyle:"font-size: 22px;color: #909399",border:"none",color:"#fff",placeholderStyle:"color: rgba(255,255,255,0.7)",password:!0},model:{value:i.password,callback:function(n){i.password=n},expression:"password"}})],1),o("v-uni-view",{staticClass:"btn-box"},[o("v-uni-button",{staticClass:"btn",on:{click:function(n){arguments[0]=n=i.$handleEvent(n),i.handleLogin.apply(void 0,arguments)}}},[i._v("手机号登录")])],1)],1)],1)],1)},c=[]},a4cb:function(i,n,o){var e=o("c86c");n=e(!1),n.push([i.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.content[data-v-29e7db42]{width:100%}.content .imgback[data-v-29e7db42]{width:%?750?%;height:100vh;background-image:linear-gradient(135deg,#2979ff,#1dceff);background-size:cover;overflow:hidden}.content .imgback .log-box[data-v-29e7db42]{width:100%;height:%?349?%;display:flex;align-items:center;flex-direction:column;margin-top:%?202?%}.content .imgback .log-box uni-image[data-v-29e7db42]{margin-bottom:%?30?%;width:%?200?%;height:%?200?%}.content .imgback .log-box .text[data-v-29e7db42]{height:%?40?%;font-size:%?32?%;font-weight:600;color:#fff;line-height:%?40?%;text-align:center}.content .imgback .form-box[data-v-29e7db42]{margin-top:%?100?%;padding:0 %?60?%}.content .imgback .form-box .input-group[data-v-29e7db42]{margin-bottom:%?30?%;padding:%?20?% 0;border-bottom:1px solid hsla(0,0%,100%,.3)}.content .imgback .form-box .btn-box[data-v-29e7db42]{margin-top:%?60?%}.content .imgback .form-box .btn-box .btn[data-v-29e7db42]{width:100%;height:%?88?%;line-height:%?88?%;background:#fff;text-align:center;border-radius:%?48?%;font-size:%?26?%;font-weight:600;color:#2979ff;margin-bottom:%?20?%}.content .imgback .form-box .btn-box .wechat-btn[data-v-29e7db42]{background:hsla(0,0%,100%,.9)}',""]),i.exports=n},ba16:function(i,n,o){"use strict";o.r(n);var e=o("a4c2"),t=o("2330");for(var c in t)["default"].indexOf(c)<0&&function(i){o.d(n,i,(function(){return t[i]}))}(c);o("7f4d");var u=o("828b"),l=Object(u["a"])(t["default"],e["b"],e["c"],!1,null,"29e7db42",null,!1,e["a"],void 0);n["default"]=l.exports},dc51:function(i,n,o){"use strict";o.r(n);var e=o("f46b"),t=o("6559");for(var c in t)["default"].indexOf(c)<0&&function(i){o.d(n,i,(function(){return t[i]}))}(c);o("5e35");var u=o("828b"),l=Object(u["a"])(t["default"],e["b"],e["c"],!1,null,"59765974",null,!1,e["a"],void 0);n["default"]=l.exports},e215:function(i,n,o){var e=o("a4cb");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[i.i,e,""]]),e.locals&&(i.exports=e.locals);var t=o("967d").default;t("415a9410",e,!0,{sourceMap:!1,shadowMode:!1})},ef73:function(i,n,o){"use strict";o("6a54");var e=o("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o("5c47"),o("0506");var t=e(o("2634")),c=e(o("2fdc")),u=e(o("9b1b")),l=o("8f59"),a={data:function(){return{jsCode:"",phone:"",password:""}},onLoad:function(){},methods:(0,u.default)((0,u.default)({},(0,l.mapMutations)(["setLogin","setUserInfo"])),{},{handleLogin:function(){var i=this;this.phone&&this.password?/^1[3-9]\d{9}$/.test(this.phone)?(console.log("开始登录请求:",{phone:this.phone}),this.$http.request({url:"/api/landlordUser/login",method:"post",data:{phone:this.phone,password:this.password}}).then(function(){var n=(0,c.default)((0,t.default)().mark((function n(o){return(0,t.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("登录响应:",o),1!==o.status){n.next=8;break}uni.showToast({title:"登录成功！",icon:"success"});try{localStorage.setItem("token","Bearer ".concat(o.data))}catch(e){console.error("存储token失败:",e)}return n.next=6,i.getUserInfo();case 6:n.next=10;break;case 8:console.log("登录失败，status不是1:",o),uni.showToast({title:o.message||"登录失败",icon:"none",duration:3e3});case 10:case"end":return n.stop()}}),n)})));return function(i){return n.apply(this,arguments)}}()).catch((function(i){console.error("登录请求异常:",i),uni.showToast({title:"登录失败，请检查手机号和密码",icon:"none",duration:3e3})}))):uni.showToast({title:"请输入正确的手机号",icon:"none"}):uni.showToast({title:"请输入手机号和密码",icon:"none"})},getPhoneNumber:function(i){var n=this;"getPhoneNumber:ok"==i.detail.errMsg?(console.log("开始微信登录请求:",{code:i.detail.code}),this.$http.request({url:"/api/landlordUser/loginByWx",method:"get",params:{code:i.detail.code,userType:1,jsCode:this.jsCode}}).then(function(){var i=(0,c.default)((0,t.default)().mark((function i(o){return(0,t.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log("微信登录响应:",o),1!==o.status){i.next=5;break}try{localStorage.setItem("token","Bearer ".concat(o.data))}catch(e){console.log("存储token失败",e)}return i.next=5,n.getUserInfo();case 5:case"end":return i.stop()}}),i)})));return function(n){return i.apply(this,arguments)}}())):uni.showToast({title:"请授权！",icon:"none"})},getUserInfo:function(){var i=this;return console.log("开始获取用户信息"),this.$http.request({url:"/api/landlordUser/selectById",method:"get"}).then((function(n){if(console.log("获取用户信息响应:",n),1===n.status){i.setLogin(!0),i.setUserInfo(n.data);try{n.data.maintenanceLength&&n.data.maintenanceLength>0||n.data.leaseApplicationLength&&n.data.leaseApplicationLength>0?"undefined"!==typeof uni&&uni.showTabBarRedDot&&uni.showTabBarRedDot({index:1}):"undefined"!==typeof uni&&uni.hideTabBarRedDot&&uni.hideTabBarRedDot({index:1})}catch(t){console.log("设置红点失败:",t)}try{if("undefined"!==typeof uni){var o=getCurrentPages(),e=o[o.length-2];e?uni.navigateBack({success:function(){e.onLoad(e.options)},fail:function(i){uni.switchTab({url:"/pages/index/index"})}}):uni.switchTab({url:"/pages/index/index"})}else window.location.href="/pages/index/index"}catch(t){console.error("页面跳转失败:",t),"undefined"!==typeof uni?uni.switchTab({url:"/pages/index/index"}):window.location.href="/pages/index/index"}}else i.setLogin(!1)})).catch((function(n){console.error("获取用户信息失败:",n),i.setLogin(!1),uni.showToast({title:"获取用户信息失败",icon:"none",duration:2e3})}))}})};n.default=a},f46b:function(i,n,o){"use strict";o.d(n,"b",(function(){return e})),o.d(n,"c",(function(){return t})),o.d(n,"a",(function(){}));var e=function(){var i=this,n=i.$createElement,o=i._self._c||n;return o("v-uni-view",{staticClass:"u-icon",class:["u-icon--"+i.labelPos],on:{click:function(n){arguments[0]=n=i.$handleEvent(n),i.clickHandler.apply(void 0,arguments)}}},[i.isImg?o("v-uni-image",{staticClass:"u-icon__img",style:[i.imgStyle,i.$u.addStyle(i.customStyle)],attrs:{src:i.name,mode:i.imgMode}}):o("v-uni-text",{staticClass:"u-icon__icon",class:i.uClasses,style:[i.iconStyle,i.$u.addStyle(i.customStyle)],attrs:{"hover-class":i.hoverClass}},[i._v(i._s(i.icon))]),""!==i.label?o("v-uni-text",{staticClass:"u-icon__label",style:{color:i.labelColor,fontSize:i.$u.addUnit(i.labelSize),marginLeft:"right"==i.labelPos?i.$u.addUnit(i.space):0,marginTop:"bottom"==i.labelPos?i.$u.addUnit(i.space):0,marginRight:"left"==i.labelPos?i.$u.addUnit(i.space):0,marginBottom:"top"==i.labelPos?i.$u.addUnit(i.space):0}},[i._v(i._s(i.label))]):i._e()],1)},t=[]},fa51:function(i,n,o){"use strict";o("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;n.default={"uicon-level":"","uicon-column-line":"","uicon-checkbox-mark":"","uicon-folder":"","uicon-movie":"","uicon-star-fill":"","uicon-star":"","uicon-phone-fill":"","uicon-phone":"","uicon-apple-fill":"","uicon-chrome-circle-fill":"","uicon-backspace":"","uicon-attach":"","uicon-cut":"","uicon-empty-car":"","uicon-empty-coupon":"","uicon-empty-address":"","uicon-empty-favor":"","uicon-empty-permission":"","uicon-empty-news":"","uicon-empty-search":"","uicon-github-circle-fill":"","uicon-rmb":"","uicon-person-delete-fill":"","uicon-reload":"","uicon-order":"","uicon-server-man":"","uicon-search":"","uicon-fingerprint":"","uicon-more-dot-fill":"","uicon-scan":"","uicon-share-square":"","uicon-map":"","uicon-map-fill":"","uicon-tags":"","uicon-tags-fill":"","uicon-bookmark-fill":"","uicon-bookmark":"","uicon-eye":"","uicon-eye-fill":"","uicon-mic":"","uicon-mic-off":"","uicon-calendar":"","uicon-calendar-fill":"","uicon-trash":"","uicon-trash-fill":"","uicon-play-left":"","uicon-play-right":"","uicon-minus":"","uicon-plus":"","uicon-info":"","uicon-info-circle":"","uicon-info-circle-fill":"","uicon-question":"","uicon-error":"","uicon-close":"","uicon-checkmark":"","uicon-android-circle-fill":"","uicon-android-fill":"","uicon-ie":"","uicon-IE-circle-fill":"","uicon-google":"","uicon-google-circle-fill":"","uicon-setting-fill":"","uicon-setting":"","uicon-minus-square-fill":"","uicon-plus-square-fill":"","uicon-heart":"","uicon-heart-fill":"","uicon-camera":"","uicon-camera-fill":"","uicon-more-circle":"","uicon-more-circle-fill":"","uicon-chat":"","uicon-chat-fill":"","uicon-bag-fill":"","uicon-bag":"","uicon-error-circle-fill":"","uicon-error-circle":"","uicon-close-circle":"","uicon-close-circle-fill":"","uicon-checkmark-circle":"","uicon-checkmark-circle-fill":"","uicon-question-circle-fill":"","uicon-question-circle":"","uicon-share":"","uicon-share-fill":"","uicon-shopping-cart":"","uicon-shopping-cart-fill":"","uicon-bell":"","uicon-bell-fill":"","uicon-list":"","uicon-list-dot":"","uicon-zhihu":"","uicon-zhihu-circle-fill":"","uicon-zhifubao":"","uicon-zhifubao-circle-fill":"","uicon-weixin-circle-fill":"","uicon-weixin-fill":"","uicon-twitter-circle-fill":"","uicon-twitter":"","uicon-taobao-circle-fill":"","uicon-taobao":"","uicon-weibo-circle-fill":"","uicon-weibo":"","uicon-qq-fill":"","uicon-qq-circle-fill":"","uicon-moments-circel-fill":"","uicon-moments":"","uicon-qzone":"","uicon-qzone-circle-fill":"","uicon-baidu-circle-fill":"","uicon-baidu":"","uicon-facebook-circle-fill":"","uicon-facebook":"","uicon-car":"","uicon-car-fill":"","uicon-warning-fill":"","uicon-warning":"","uicon-clock-fill":"","uicon-clock":"","uicon-edit-pen":"","uicon-edit-pen-fill":"","uicon-email":"","uicon-email-fill":"","uicon-minus-circle":"","uicon-minus-circle-fill":"","uicon-plus-circle":"","uicon-plus-circle-fill":"","uicon-file-text":"","uicon-file-text-fill":"","uicon-pushpin":"","uicon-pushpin-fill":"","uicon-grid":"","uicon-grid-fill":"","uicon-play-circle":"","uicon-play-circle-fill":"","uicon-pause-circle-fill":"","uicon-pause":"","uicon-pause-circle":"","uicon-eye-off":"","uicon-eye-off-outline":"","uicon-gift-fill":"","uicon-gift":"","uicon-rmb-circle-fill":"","uicon-rmb-circle":"","uicon-kefu-ermai":"","uicon-server-fill":"","uicon-coupon-fill":"","uicon-coupon":"","uicon-integral":"","uicon-integral-fill":"","uicon-home-fill":"","uicon-home":"","uicon-hourglass-half-fill":"","uicon-hourglass":"","uicon-account":"","uicon-plus-people-fill":"","uicon-minus-people-fill":"","uicon-account-fill":"","uicon-thumb-down-fill":"","uicon-thumb-down":"","uicon-thumb-up":"","uicon-thumb-up-fill":"","uicon-lock-fill":"","uicon-lock-open":"","uicon-lock-opened-fill":"","uicon-lock":"","uicon-red-packet-fill":"","uicon-photo-fill":"","uicon-photo":"","uicon-volume-off-fill":"","uicon-volume-off":"","uicon-volume-fill":"","uicon-volume":"","uicon-red-packet":"","uicon-download":"","uicon-arrow-up-fill":"","uicon-arrow-down-fill":"","uicon-play-left-fill":"","uicon-play-right-fill":"","uicon-rewind-left-fill":"","uicon-rewind-right-fill":"","uicon-arrow-downward":"","uicon-arrow-leftward":"","uicon-arrow-rightward":"","uicon-arrow-upward":"","uicon-arrow-down":"","uicon-arrow-right":"","uicon-arrow-left":"","uicon-arrow-up":"","uicon-skip-back-left":"","uicon-skip-forward-right":"","uicon-rewind-right":"","uicon-rewind-left":"","uicon-arrow-right-double":"","uicon-arrow-left-double":"","uicon-wifi-off":"","uicon-wifi":"","uicon-empty-data":"","uicon-empty-history":"","uicon-empty-list":"","uicon-empty-page":"","uicon-empty-order":"","uicon-man":"","uicon-woman":"","uicon-man-add":"","uicon-man-add-fill":"","uicon-man-delete":"","uicon-man-delete-fill":"","uicon-zh":"","uicon-en":""}}}]);